<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock & Crypto Chart Viewer</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js with Zoom Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“ˆ Stock & Crypto Chart Viewer</h1>
            <p>Analyze market data and set your trading strategy</p>
        </header>

        <main>
            <!-- Symbol Selection -->
            <section id="symbol-selection" class="section">
                <h2>Start Trading Quiz</h2>
                <p style="margin-bottom: 15px; color: #666;">
                    Select an asset and start a quiz. You'll see 6 months of historical data before a random date,
                    then predict the future price movement!
                </p>
                <div class="selection-row">
                    <div class="form-group">
                        <label for="asset-type">Asset Type:</label>
                        <select id="asset-type">
                            <option value="stock">Stock</option>
                            <option value="crypto">Cryptocurrency</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="symbol-input">Symbol/Coin ID:</label>
                        <input type="text" id="symbol-input" placeholder="e.g., AAPL, bitcoin">
                    </div>
                    <button id="start-quiz-btn" class="btn btn-primary">Start Quiz</button>
                </div>
                <div class="quiz-examples-compact">
                    <span style="color: #666; margin-right: 10px;">ï¿½ Try:</span>
                    <button class="example-btn-compact" data-type="stock" data-symbol="AAPL">AAPL</button>
                    <button class="example-btn-compact" data-type="stock" data-symbol="GOOGL">GOOGL</button>
                    <button class="example-btn-compact" data-type="stock" data-symbol="MSFT">MSFT</button>
                    <button class="example-btn-compact" data-type="stock" data-symbol="TSLA">TSLA</button>
                    <button class="example-btn-compact" data-type="stock" data-symbol="NVDA">NVDA</button>
                    <button class="example-btn-compact" data-type="stock" data-symbol="META">META</button>
                    <span style="color: #999; margin: 0 8px;">|</span>
                    <button class="example-btn-compact" data-type="crypto" data-symbol="bitcoin">Bitcoin</button>
                    <button class="example-btn-compact" data-type="crypto" data-symbol="ethereum">Ethereum</button>
                    <button class="example-btn-compact" data-type="crypto" data-symbol="binancecoin">BNB</button>
                    <button class="example-btn-compact" data-type="crypto" data-symbol="solana">Solana</button>
                </div>
            </section>

            <!-- Chart Display -->
            <section id="chart-display" class="section hidden">
                <div class="chart-header">
                    <div>
                        <h2><span id="chart-symbol"></span> - <span id="chart-name"></span></h2>
                        <p style="color: #666; font-size: 0.9em; margin-top: 5px;">
                            ðŸ“… Showing data up to: <strong id="cutoff-date"></strong>
                        </p>
                    </div>
                    <div class="chart-controls">
                        <button id="reset-zoom-btn" class="btn btn-secondary">Reset Zoom</button>
                        <button id="new-quiz-btn" class="btn btn-secondary">New Quiz</button>
                        <span class="chart-info">Use mouse wheel to zoom, drag to pan</span>
                    </div>
                </div>
                
                <!-- Chart Container -->
                <div id="chart-container">
                    <canvas id="price-chart"></canvas>
                </div>

                <div id="volume-container">
                    <canvas id="volume-chart"></canvas>
                </div>

                <!-- Market Information -->
                <div id="market-info" class="info-grid">
                    <div class="info-card">
                        <span class="info-label">Current Price</span>
                        <span class="info-value" id="current-price">-</span>
                    </div>
                    <div class="info-card">
                        <span class="info-label">Volume (24h/Day)</span>
                        <span class="info-value" id="volume-value">-</span>
                    </div>
                    <div class="info-card">
                        <span class="info-label">Market Cap</span>
                        <span class="info-value" id="market-cap">-</span>
                    </div>
                    <div class="info-card">
                        <span class="info-label">P/E Ratio</span>
                        <span class="info-value" id="per-value">-</span>
                    </div>
                    <div class="info-card">
                        <span class="info-label">52W High / Low</span>
                        <span class="info-value" id="range-52w">-</span>
                    </div>
                    <div class="info-card">
                        <span class="info-label">Previous Close</span>
                        <span class="info-value" id="prev-close">-</span>
                    </div>
                </div>

                <!-- Trading Strategy Form -->
                <div id="strategy-form">
                    <h3>Trading Strategy Quiz</h3>
                    <div class="strategy-inputs">
                        <div class="form-group">
                            <label for="take-profit-input">Profit Price ($):</label>
                            <input type="number" id="take-profit-input" step="0.01" placeholder="Target profit price">
                            <small>Exit position when price reaches this level (profit target)</small>
                        </div>
                        <div class="form-group">
                            <label for="stop-loss-input">Stop-Loss Price ($):</label>
                            <input type="number" id="stop-loss-input" step="0.01" placeholder="Stop loss price">
                            <small>Exit position to limit losses at this price</small>
                        </div>
                        <div class="form-group">
                            <label for="max-days-input">Max Days to Hold (max 30):</label>
                            <input type="number" id="max-days-input" min="1" max="30" placeholder="Maximum holding period">
                            <small>Maximum number of days to hold this position (up to 30 days)</small>
                        </div>
                    </div>
                    <div class="strategy-actions">
                        <button id="calculate-strategy-btn" class="btn btn-success">Submit & Show Result</button>
                        <button id="clear-strategy-btn" class="btn btn-secondary">Clear</button>
                    </div>
                    <div id="strategy-result" class="hidden">
                        <h4>Quiz Result</h4>
                        <div id="strategy-output"></div>
                    </div>
                </div>
            </section>

        </main>

        <footer>
            <p>Stock & Crypto Chart Viewer Â© 2025</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
